{% extends "base.html" %}

{% block title %}Home - Resume Analyzer{% endblock %}

{% block content %}
    <div class="container text-center mb-4">
        <h2 class="fw-bold">Upload Resumes and Job Descriptions</h2>
    </div>

    <div id="loadingIndicator" class="loading-overlay d-none">
        <div class="spinner-border text-primary" role="status">
        </div>
        <span class="visually-hidden">Loading...</span>
        <p class="mt-2">Processing resumes, please wait...</p>
    </div>
    
    <div class="container col-md-6">
        <form id="uploadForm" action="/parsing-result" method="post" enctype="multipart/form-data">
            <!-- Resumes Input -->
            <div class="custom-card">
                <button class="upload-btn" onclick="document.getElementById('resumeFiles').click();">
                    <span><i class="fas fa-file-alt me-2"></i> Upload Resumes</span>
                    <i class="fas fa-upload"></i>
                </button>
                <small class="text-muted mt-2 d-block">You can upload up to 15 resumes.</small>
                <input type="file" id="resumeFiles" name="resumes" class="d-none" accept=".pdf,.docx" multiple required>
                <!-- Resume List -->
                <div id="resumeList" class="mt-3"></div>
            </div>
        
            <!-- Job Description Input -->
            <div class="custom-card">
                <button class="upload-btn" onclick="document.getElementById('jobDescriptionFile').click();">
                    <span><i class="fas fa-file-alt me-2"></i> Upload Job Description</span>
                    <i class="fas fa-upload"></i>
                </button>
                <small class="text-muted mt-2 d-block">You can only upload one job description.</small>
                <input type="file" id="jobDescriptionFile" name="job_description" class="d-none" accept=".pdf,.docx" required>
                <!-- Job Description List -->
                <div id="jobDescriptionList" class="mt-3"></div>
            </div>
        
            <!-- Analyze Button -->
            <div class="text-center mt-4">
                <button type="submit" class="btn-analyze w-100">Analyze Resumes</button>
            </div>
        </form>
    </div>
{% endblock %}

<!-- Bootstrap JS and dependencies -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
